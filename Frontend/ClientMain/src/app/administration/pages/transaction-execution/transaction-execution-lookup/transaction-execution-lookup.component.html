<div class="jcard">
  <div *ngIf="loading">
    <p><small>Processing, please wait...</small></p>
    <p>
      <mat-progress-bar mode="query"></mat-progress-bar>
    </p>
  </div>
  <mat-card-header class="breadcrumb">
    <div>Transaction Lookup</div>
  </mat-card-header>
  <mat-divider></mat-divider>
  <br>
  <div class="row table-action-row">
    <div class="col">
      <p class="ml-2">
        Filter by:
      </p>
      <form action="" [formGroup]="paramsData" novalidate>
        <div class="row">
          <div class="col-3">
            <mat-form-field class="ml-2" appearance="fill">
              <mat-label>Action done</mat-label>
              <mat-select formControlName="action">
                <mat-option *ngFor="let item of actions" [value]="item">
                  {{item}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-1"></div>
          <div class="col-3">
            <mat-form-field class="ml-2" appearance="fill">
              <mat-label>From date</mat-label>
              <input matInput [matDatepicker]="picker" formControlName="fromDate" readonly>
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="col-1"></div>
          <div class="col-3">
            <mat-form-field class="ml-2" appearance="fill">
              <mat-label>To date</mat-label>
              <input matInput [matDatepicker]="picker1" formControlName="toDate" readonly>
              <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
              <mat-datepicker #picker1></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="col-1">
            <button class="btn btn-secondary pull-right" type="button" (click)="getData()">
              <!-- <i class="fa fa-search"></i> -->
              <mat-icon class="mt-2">search</mat-icon>
            </button>
          </div>
        </div>
      </form>
      <mat-divider></mat-divider>
      <br>
      <div class="row">
        <div class="col-6">
          <mat-form-field class="ml-2">
            <span matPrefix> </span>
            <input matInput (keyup)="applyFilter($event)" placeholder="Search..." #input>
            <button matSuffix mat-button>
              <mat-icon>search</mat-icon>
            </button>
          </mat-form-field>
        </div>
      </div>
    </div>
  </div>
  <div class="table-row">
    <table class="y-scrollable-table" mat-table matSort matTableExporter [dataSource]="dataSource">
      <ng-container matColumnDef="index">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> # </th>
        <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
      </ng-container>
      <ng-container matColumnDef="transactionCode">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Tran Code</th>
        <td mat-cell *matCellDef="let row">{{ row.transactionCode }}</td>
      </ng-container>
      <ng-container matColumnDef="transactionType">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Tran Type</th>
        <td mat-cell *matCellDef="let row">{{ row.transactionType}}</td>
      </ng-container>
      <ng-container matColumnDef="enteredBy">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Entered BY</th>
        <td mat-cell *matCellDef="let row">{{ row.enteredBy}}</td>
      </ng-container>
      <ng-container matColumnDef="enteredFlag">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Entered Flag</th>
        <td mat-cell *matCellDef="let row">{{ row.enteredFlag}}</td>
      </ng-container>
      <ng-container matColumnDef="enteredTime">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Entered AT</th>
        <td mat-cell *matCellDef="let row">{{ row.enteredTime | date: 'short'}}</td>
      </ng-container>
      <ng-container matColumnDef="verifiedFlag">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Verified Flag</th>
        <td mat-cell *matCellDef="let row">{{ row.verifiedFlag }}</td>
      </ng-container>
      <ng-container matColumnDef="verifiedBy">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Verified BY</th>
        <td mat-cell *matCellDef="let row">{{ row.verifiedBy}}</td>
      </ng-container>
      <ng-container matColumnDef="postedTime">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Posted Time</th>
        <td mat-cell *matCellDef="let row">{{ row.postedTime| date: 'short'}}</td>
      </ng-container>
      <ng-container matColumnDef="deletedBy">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Deleted BY</th>
        <td mat-cell *matCellDef="let row">{{ row.deletedBy}}</td>
      </ng-container>
      <ng-container matColumnDef="deletedFlag">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Deleted Flag</th>
        <td mat-cell *matCellDef="let row">{{ row.deletedFlag}}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr (click)="onSelect(row)" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
      </tr>
    </table>
  </div>
  <mat-paginator [pageSizeOptions]="[7, 20, 30, 40, 50, 100]" aria-label="Select page"></mat-paginator>
</div>

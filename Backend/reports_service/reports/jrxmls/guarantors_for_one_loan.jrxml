<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="retail_accounts" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="2245224d-d26f-4dc0-9c46-75abb3c4a1e0">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="LocalSacco"/>
	<parameter name="report_icon" class="java.lang.String"/>
	<parameter name="sacco_name" class="java.lang.String"/>
	<parameter name="acid" class="java.lang.String"/>
	<queryString language="SQL">
		<![CDATA[select ac.customer_code, ROUND(ac.account_balance,0) as loan_balance, ac.verified_time, concat(rc.first_name, ' ', rc.last_name) as guarantor_name, 
lg.guarantor_customer_code AS guarantor_code, ac.acid, ac.account_name, lg.initial_gee_amount, lg.guarantee_amount, br.branch_description, ln.disbursement_date,
ln.principal_amount AS principal_amount from  accounts ac join loan ln on ac.id=ln.account_id_fk and ac.account_balance < 0 
join branch br on ac.sol_code=br.branch_code join loan_guarantor lg on ln.sn=lg.loan_sn 
join retailcustomer rc on rc.customer_code=lg.guarantor_customer_code where ac.acid = $P{acid} order  by ac.customer_code, lg.guarantor_customer_code]]>
	</queryString>
	<field name="acid" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="acid"/>
		<property name="com.jaspersoft.studio.field.label" value="acid"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="accounts"/>
	</field>
	<field name="customer_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="customer_code"/>
		<property name="com.jaspersoft.studio.field.label" value="customer_code"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="retail_customer_details"/>
	</field>
	<field name="account_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="surname"/>
		<property name="com.jaspersoft.studio.field.label" value="surname"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="retail_customer_details"/>
	</field>
	<field name="verified_time" class="java.lang.String"/>
	<field name="guarantor_name" class="java.lang.String"/>
	<field name="loan_balance" class="java.lang.Double"/>
	<field name="principal_amount" class="java.lang.Double"/>
	<field name="guarantor_code" class="java.lang.String"/>
	<field name="guarantee_amount" class="java.lang.Double"/>
	<field name="initial_gee_amount" class="java.lang.Double"/>
	<variable name="total_balance" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{loan_balance}]]></variableExpression>
	</variable>
	<variable name="total_principal_amount" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{principal_amount}]]></variableExpression>
	</variable>
	<variable name="total_guarantee_amount" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{guarantee_amount}]]></variableExpression>
	</variable>
	<variable name="total_initial_amount" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{initial_gee_amount}]]></variableExpression>
	</variable>
	<background>
		<band height="7" splitType="Stretch"/>
	</background>
	<title>
		<band height="140" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<image hAlign="Center" vAlign="Middle">
				<reportElement x="-16" y="-10" width="116" height="101" uuid="49355861-66b5-4513-a3c0-461a0cde2acc">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<imageExpression><![CDATA[$P{report_icon}]]></imageExpression>
			</image>
			<line>
				<reportElement x="-13" y="93" width="580" height="1" uuid="20acd65f-2d0c-4b69-9f77-9dc918e18f9d">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<graphicElement>
					<pen lineWidth="2.0"/>
				</graphicElement>
			</line>
			<frame>
				<reportElement x="147" y="91" width="270" height="12" uuid="f97e4e42-c7df-42fa-8737-f92135e2b160"/>
			</frame>
			<textField>
				<reportElement mode="Transparent" x="77" y="-17" width="487" height="48" forecolor="#030200" uuid="38a1b8f2-99d9-4aaa-bfde-3869c2c84123">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font size="24" isBold="true"/>
					<paragraph lineSpacingSize="1.0"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{sacco_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="81" y="28" width="469" height="30" uuid="8325a33e-e302-498e-b9f6-b847dc635956"/>
				<textElement textAlignment="Center">
					<font size="16" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Loan Guarantors for " +$F{account_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="107" y="48" width="465" height="22" uuid="3b7cdcbc-6c1f-4163-8f6a-1cd7125523a3"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA["Loan No: "+ $F{acid}+ ",      Balance:  "+ $F{loan_balance}+ ",       Loan amount: "+$F{principal_amount}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="100" y="64" width="370" height="30" uuid="9d233fe1-2ece-4193-be04-0cbfa5a20ec4"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA["Issue date: "+new  SimpleDateFormat("yyyy-MM-dd").format(new SimpleDateFormat("yyyy-MM-dd").parse($F{verified_time}))]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<staticText>
				<reportElement x="4" y="-36" width="110" height="20" uuid="cbd41c6d-533c-4ad7-b243-64af0cd85868">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Guarantor Member No.]]></text>
			</staticText>
			<staticText>
				<reportElement x="377" y="-36" width="82" height="20" uuid="61dfd37d-85a1-43d8-8b39-6d768571dc38">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Guarantee Amt.]]></text>
			</staticText>
			<staticText>
				<reportElement x="114" y="-36" width="262" height="20" uuid="0edd6217-4ce4-4824-bdf3-889eefd20311">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Guarantor Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="459" y="-36" width="82" height="20" uuid="ae7b927d-3076-4192-88ee-7d39ed379132">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Initial Amt.]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight">
				<reportElement stretchType="RelativeToTallestObject" x="4" y="-36" width="110" height="20" uuid="19762dfb-3862-47b1-86bb-fd7c148fdeb5">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<box topPadding="3" bottomPadding="3">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{guarantor_code}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="#,##0.00">
				<reportElement stretchType="RelativeToTallestObject" x="377" y="-36" width="82" height="20" uuid="ebb29a41-315f-4d2b-bb31-646c7113f05f">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="3" bottomPadding="3" rightPadding="5">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{guarantee_amount}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight">
				<reportElement stretchType="RelativeToTallestObject" x="114" y="-36" width="262" height="20" uuid="95b131b5-e35a-4f12-8b1e-3f3c9d82974a">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<box topPadding="3" bottomPadding="3">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{guarantor_name}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="#,##0.00">
				<reportElement stretchType="RelativeToTallestObject" x="459" y="-36" width="82" height="20" uuid="45c5e05f-4b54-464f-95fd-31a5f66950f2">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="3" bottomPadding="3" rightPadding="5">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{initial_gee_amount}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="46">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight" pattern="#,##0.00">
				<reportElement stretchType="RelativeToTallestObject" x="377" y="-36" width="82" height="20" uuid="52d590b2-7104-4070-85d6-d7bdc4be42d7">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="3" bottomPadding="3" rightPadding="5">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{total_guarantee_amount}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="286" y="-34" width="89" height="24" uuid="e43937c5-473c-4c3c-b33c-91d4fa2ff1af"/>
				<textElement>
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[Total]]></text>
			</staticText>
			<textField textAdjust="StretchHeight" pattern="#,##0.00">
				<reportElement stretchType="RelativeToTallestObject" x="459" y="-36" width="82" height="20" uuid="962ae5af-3005-4f58-8cfc-8b4806e3349c">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="3" bottomPadding="3" rightPadding="5">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{total_initial_amount}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>

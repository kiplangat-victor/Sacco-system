<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.20.5.final using JasperReports Library version 6.20.5-3efcf2e67f959db3888d79f73dde2dbd7acb4f8e  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Transactions_all" pageWidth="750" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="68b9056c-ecae-4810-bd14-43699dbaf318">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Goodway"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<parameter name="report_icon" class="java.lang.String"/>
	<parameter name="sacco_name" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT *, 
       IF(credits1 - debits1 > 0, credits1 - debits1, 0) AS credits,  
       IF(credits1 - debits1 < 0, debits1 - credits1, 0) AS debits  
FROM (
    SELECT
		gl_description, 
		classification,
        gl_subhead, 
        gl_code,
        acid,
        account_name, 
        gl_subhead_description,   
        SUM(IF(part_tran_type = 'Credit', tran_amount, 0)) AS credits1, 
        SUM(IF(part_tran_type = 'Debit', tran_amount, 0)) AS debits1 
    FROM (
        SELECT 
            pt.tran_amount,
            pt.part_tran_type,
            acsgl.acid,
            acsgl.account_name,
            acsgl.gl_subhead,
            acsgl.gl_code,
            acsgl.gl_subhead_description,
            gl.gl_description, 
            gl.classification
        FROM (
            SELECT 
                tran_amount,
                transaction_header_id,
                acid,
                part_tran_type 
            FROM part_tran
        ) AS pt
        JOIN dtd ON dtd.sn = pt.transaction_header_id 
                AND dtd.posted_flag = 'Y' 
            
        JOIN (
            SELECT  
                ac.acid,
                ac.account_name,
                ac.gl_subhead,
                subgl.gl_code,
                subgl.gl_subhead_description 
            FROM  
                (SELECT gl_subhead_code, gl_code, gl_subhead_description FROM glsubhead) AS subgl
            JOIN  (SELECT acid, account_name, gl_subhead FROM accounts where account_type="OAB") AS ac ON ac.gl_subhead = subgl.gl_subhead_code
        ) AS acsgl  
        ON acsgl.acid = pt.acid
        JOIN gl ON gl.gl_code = acsgl.gl_code
    ) AS k 
	GROUP BY acid
) AS k 
ORDER BY k.gl_code;]]>
	</queryString>
	<field name="gl_description" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="gl_description"/>
		<property name="com.jaspersoft.studio.field.label" value="gl_description"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="gl"/>
	</field>
	<field name="classification" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="classification"/>
		<property name="com.jaspersoft.studio.field.label" value="classification"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="gl"/>
	</field>
	<field name="gl_subhead" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="gl_subhead"/>
		<property name="com.jaspersoft.studio.field.label" value="gl_subhead"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="accounts"/>
	</field>
	<field name="gl_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="gl_code"/>
		<property name="com.jaspersoft.studio.field.label" value="gl_code"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="glsubhead"/>
	</field>
	<field name="acid" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="acid"/>
		<property name="com.jaspersoft.studio.field.label" value="acid"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="accounts"/>
	</field>
	<field name="account_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="account_name"/>
		<property name="com.jaspersoft.studio.field.label" value="account_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="accounts"/>
	</field>
	<field name="gl_subhead_description" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="gl_subhead_description"/>
		<property name="com.jaspersoft.studio.field.label" value="gl_subhead_description"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="glsubhead"/>
	</field>
	<field name="credits1" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="credits1"/>
		<property name="com.jaspersoft.studio.field.label" value="credits1"/>
	</field>
	<field name="debits1" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="debits1"/>
		<property name="com.jaspersoft.studio.field.label" value="debits1"/>
	</field>
	<field name="credits" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="credits"/>
		<property name="com.jaspersoft.studio.field.label" value="credits"/>
	</field>
	<field name="debits" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="debits"/>
		<property name="com.jaspersoft.studio.field.label" value="debits"/>
	</field>
	<variable name="total_credits" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{credits}]]></variableExpression>
	</variable>
	<variable name="total_debits" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{debits}]]></variableExpression>
	</variable>
	<group name="GL">
		<groupExpression><![CDATA[$F{classification}]]></groupExpression>
		<groupHeader>
			<band height="56">
				<staticText>
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="459" y="30" width="109" height="21" uuid="a1d059af-c234-40df-bce1-3db9970bf759">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box topPadding="3" bottomPadding="3">
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Account Number]]></text>
				</staticText>
				<staticText>
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="278" y="30" width="181" height="21" uuid="acd6995a-ffbb-452d-b03b-0f46018ad3d8">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box topPadding="3" bottomPadding="3">
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Account Name]]></text>
				</staticText>
				<staticText>
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="185" y="30" width="93" height="21" uuid="751cb32f-24d1-481e-b587-0c401a28b9b5">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box topPadding="3" bottomPadding="3">
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Subgl]]></text>
				</staticText>
				<staticText>
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="65" y="30" width="120" height="21" uuid="f9b8047d-8e78-4daa-94d9-02d98d3fe995">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box topPadding="3" bottomPadding="3">
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Gl description]]></text>
				</staticText>
				<textField>
					<reportElement x="258" y="4" width="100" height="20" uuid="3f8a8df1-fa5c-43c5-80aa-f352dc0655a8"/>
					<textElement textAlignment="Center" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{classification}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="30" width="65" height="21" uuid="bc365c68-1a83-4a44-a875-5e9ed2333114">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box topPadding="3" bottomPadding="3">
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[GL Code]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="59"/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="140" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<image hAlign="Center" vAlign="Middle">
				<reportElement x="-11" y="-10" width="97" height="104" uuid="89c883a8-7ece-44a3-bb8a-e1ffbd89fd9b">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<imageExpression><![CDATA[$P{report_icon}]]></imageExpression>
			</image>
			<line>
				<reportElement x="7" y="125" width="703" height="1" uuid="35a8edce-9c39-4f8d-8d48-cc646f12b707">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<graphicElement>
					<pen lineWidth="2.0"/>
				</graphicElement>
			</line>
			<frame>
				<reportElement x="147" y="106" width="313" height="19" uuid="19d141d6-b410-4c06-80e2-be7f21477d55"/>
			</frame>
			<textField>
				<reportElement mode="Transparent" x="80" y="-10" width="487" height="50" forecolor="#030200" uuid="ae99c436-efdb-44c3-a2fb-e260b27f098e">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font size="24" isBold="true"/>
					<paragraph lineSpacingSize="1.0"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{sacco_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="110" y="47" width="430" height="37" uuid="a860f6f1-9e1b-4bf0-bf4a-7162a3312e6c"/>
				<textElement textAlignment="Center">
					<font size="22" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["CHART OF ACCOUNTS"]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
		</band>
	</columnHeader>
	<detail>
		<band height="21" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="278" y="-5" width="181" height="21" uuid="7bd304a2-6e66-4e48-8236-77667a82f676">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box padding="4">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{account_name}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="459" y="-5" width="109" height="21" uuid="875edf3a-0f99-41ef-a622-f868bcc95245">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="3" leftPadding="8" bottomPadding="3" rightPadding="3">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{acid}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="65" y="-5" width="120" height="21" uuid="b6f1484c-b96d-46e3-a568-7d50a334fb05">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="3" bottomPadding="3" rightPadding="3">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{gl_description}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="-5" width="65" height="21" uuid="53e4c11a-2883-42db-b8c6-dae968e24bae">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="3" bottomPadding="3" rightPadding="3">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{gl_code}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="185" y="-5" width="93" height="21" uuid="25cdf7d9-b569-4c0d-a3d8-39137f99e1ca">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="3" bottomPadding="3" rightPadding="3">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{gl_subhead}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
		</band>
	</summary>
</jasperReport>

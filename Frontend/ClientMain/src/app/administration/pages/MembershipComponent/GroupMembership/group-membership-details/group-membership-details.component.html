<mat-card>
	<mat-card-header class="breadcrumb">
		<div>
			<a routerLink="/system">Dashboard / </a>
			<a routerLink="/system">Group Membership Maintenenace / </a>
			Group Membership
		</div>
		<div class="ml-auto">
			&nbsp; <mat-icon color="accent" mat-dialog-close>cancel</mat-icon> &nbsp;
		</div>
	</mat-card-header>
	<div *ngIf="loading">
		<p><small>Loading, please wait...</small></p>
		<p>
			<mat-progress-bar mode="indeterminate"></mat-progress-bar>
		</p>
	</div>
	<div class="row">
		<div class="col-md-6 col-sm-12">
			<div class="row">
				<div class="col-md-6 col-sm-12">
					<h4>Function:- <strong></strong> </h4>
				</div>
				<div class="col-md-6 col-sm-12">
					<h4>Group Code:- <strong></strong></h4>
				</div>
			</div>
		</div>
		<div class="col-md-6 col-sm-12 row">
			<div class="row" *ngIf="this.results">
				<div class="col-md-6 col-sm-12">
					<h4>Verification:- <strong>{{this.results.verifiedFlag}}</strong></h4>
				</div>
				<div class="col-md-6 col-sm-12">
					<h4>Posted BY:- <strong>{{this.results.postedBy}}</strong></h4>
				</div>
			</div>
		</div>
	</div>
	<mat-divider></mat-divider>
	<br>
	<div class="container-fluid">
		<form action="" class="form" [formGroup]="formData">
			<mat-tab-group mat-align-tabs="center">
				<mat-tab class="mat-tab" label="GENERAL DETAILS">
					<br>
					<div class="row">
						<div class="col-md-4 col-sm-12">
							<div class="form-group">
								<div class="col-md-6 col-sm-12 form-column">
									<label for="" class="start pull-left">Branch Code<span class="warning"
											*ngIf="onShowWarning">*</span></label>
								</div>
								<div class="col-md-6 col-sm-12 form-column">
									<input type="text" formControlName="branchCode" class="form-control"
										[ngClass]="{ 'is-invalid': submitted && f.branchCode.errors}"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="8">
								</div>
							</div>
						</div>

						<div class="col-md-8 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start pull-left">Group Name<span class="warning"
											*ngIf="onShowWarning">*</span></label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="text" formControlName="groupName" class="form-control"
										[ngClass]="{ 'is-invalid': submitted && f.groupName.errors}"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="255">
								</div>
							</div>
						</div>
					</div>
					<br>
					<mat-divider></mat-divider>
					<br>
					<div class="row">
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">NO:</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input readonly placeholder="AUTO" type="text" formControlName="no"
										class="form-control">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Group Type<span class="warning"
											*ngIf="onShowWarning">*</span></label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<select formControlName="groupType" class="form-control"
										[ngClass]="{ 'is-invalid': submitted && f.groupType.errors}">
										<option value="" disabled>--SELECT GROUP TYPE--</option>
										<option *ngFor="let item of membershipTypeArray" [value]="item.customerType">
											{{item.description}}</option>
									</select>
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label for="" class="start">Employer Code<span class="warning"
											*ngIf="onShowWarning">*</span></label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="text" formControlName="employerCode" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="15">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label for="" class="start">Employer Name</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input readonly type="text" formControlName="employerName" class="form-control">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label for="" class="start">Document Type</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input readonly type="text" formControlName="verificationDocument"
										class="form-control">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Document Number<span class="warning"
											*ngIf="onShowWarning">*</span></label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="text" formControlName="verificationDocNumber" class="form-control"
										[ngClass]="{ 'is-invalid': submitted && f.verificationDocNumber.errors}"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="20">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-6 col-sm-12 form-column">
									<label for="" class="start">Group Status</label>
								</div>
								<div class="col-md-6 col-sm-12 form-column">
									<input readonly placeholder="" type="text" formControlName="status"
										class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="20">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Membership Date</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input formControlName="membershipDate" class="form-control">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Country</label>
								</div>
								<div class="col-md-8 col-sm-12 ">
									<input formControlName="country" class="form-control">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label for="" class="start">Manager ID<span class="warning"
											*ngIf="onShowWarning">*</span></label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input formControlName="groupManagerId" placeholder="" class="form-control"
										[ngClass]="{ 'is-invalid': submitted && f.groupManagerId.errors }">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label for="" class="start">Manager Name<span class="warning"
											*ngIf="onShowWarning">*</span></label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input readonly formControlName="groupManagerName" placeholder=""
										class="form-control"
										[ngClass]="{ 'is-invalid': submitted && f.groupManagerName.errors }">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Joint Account<span class="warning"
											*ngIf="onShowWarning">?</span></label>
								</div>
								<div class="col-md-4 col-sm-12 form-column">
									<mat-checkbox formControlName="jointAccount" class="example-margin pull-right"
										color="primary">
									</mat-checkbox>
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Has Approval<span class="warning"
											*ngIf="onShowWarning">?</span></label>
								</div>
								<div class="col-md-4 col-sm-12 form-column">
									<mat-checkbox formControlName="hasApproval" class="example-margin pull-right"
										color="primary">
									</mat-checkbox>
								</div>
							</div>
						</div>
					</div>
					<br>
				</mat-tab>
				<mat-tab class="mat-tab" label="BUSINESS DETAILS">
					<br>
					<div class="row">
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Business Type</label>
								</div>
								<div class="col-md-8 col-sm-12 ">
									<input formControlName="businessType" class="form-control">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Other Business Type.</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input maxlength="20" type="text" formControlName="otherBusinessType"
										class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="40">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Business Registration No.<span class="warning"
											*ngIf="onShowWarning">*</span></label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="text" formControlName="businessRegNo" class="form-control"
										[ngClass]="{ 'is-invalid': submitted && f.businessRegNo.errors}"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="20">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Registration Date</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input formControlName="registrationDate" class="form-control">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Nature of Business<span class="warning"
											*ngIf="onShowWarning">*</span></label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input maxlength="20" type="text" formControlName="businessNature"
										class="form-control"
										[ngClass]="{ 'is-invalid': submitted && f.businessNature.errors}"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="20">
								</div>
							</div>
						</div>
					</div>
					<br>
				</mat-tab>
				<mat-tab class="mat-tab" label="COMMUNICATION DETAILS">
					<br>
					<div class="row">
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Postal Code.</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="number" formControlName="postCode" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="8">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Town.</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="text" formControlName="town" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="40">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Country Code</label>
								</div>
								<div class="col-md-8 col-sm-12 ">
									<input formControlName="countryCode" class="form-control">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">County.</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="text" formControlName="county" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="100">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Sub County.</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="text" formControlName="subCounty" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="100">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Ward.</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="text" formControlName="ward" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="100">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Postal Address.</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="text" formControlName="postalAddress" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="80">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Home Address</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="text" formControlName="homeAddress" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="80">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Current Address</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="text" formControlName="currentAddress" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="80">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Primary Phone No.</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="number" formControlName="primaryPhone" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="12">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Other Phone No.</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="number" formControlName="otherPhone" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="12">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Group E-Mail</label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="email" formControlName="groupMail" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="255">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label for="" class="start">Representative<span class="warning"
											*ngIf="onShowWarning">*</span></label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input formControlName="representative" placeholder="" class="form-control"
										[ngClass]="{ 'is-invalid': submitted && f.representative.errors }"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="100">
								</div>
							</div>
						</div>
					</div>
					<br>
				</mat-tab>
				<mat-tab class="mat-tab" label="BANK DETAILS">
					<br>
					<div class="row">
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Bank Name</label>
								</div>
								<div class="col-md-8 col-sm-12 ">
									<input formControlName="bankName" class="form-control">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Bank Branch</label>
								</div>
								<div class="col-md-8 col-sm-12">
									<input type="text" formControlName="bankBranch" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="20">
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-12">
							<div class="form-group">
								<div class="col-md-4 col-sm-12 form-column">
									<label class="start">Bank Account No.<span class="warning"
											*ngIf="onShowWarning">*</span></label>
								</div>
								<div class="col-md-8 col-sm-12 form-column">
									<input type="text" formControlName="bankAccountNo" class="form-control"
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
										maxlength="20">

								</div>
							</div>
						</div>
					</div>
					<br>
				</mat-tab>
				<mat-tab class="mat-tab" label="SIGNATORIES DETAILS">
					<br>
					<table class="table table-striped table-bordered table-sm row-border hover" style="width: 100%;">
						<thead>
							<tr>
								<th>No.</th>
								<th>Member Code</th>
								<th>Name</th>
								<th>Sign Operation</th>
								<th>Nationality</th>
								<th>Document</th>
								<th>Document No.</th>
								<th>End Date </th>
								<th>Designation</th>
								<th>Phone</th>
								<th>Must Sign</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let item of this.groupSignatoryArray, let i = index">
								<td>{{i + 1}}</td>
								<td>{{item.memberCode}}</td>
								<td>{{item.memberName}}</td>
								<td>{{item.signOperation}}</td>
								<td>{{item.nationality}}</td>
								<td>{{item.verificationDocument}}</td>
								<td>{{item.verificationDocumentNo}}</td>
								<td>{{item.expriyDate | date}}</td>
								<td>{{item.designation}}</td>
								<td>{{item.phoneNumber}}</td>
								<td>{{item.mustSign}}</td>
							</tr>
						</tbody>
					</table>
					<br>
				</mat-tab>
				<mat-tab class="mat-tab" label="GROUP MEMBER DETAILS">
					<br>
					<table class="table table-striped table-bordered table-sm row-border hover" style="width: 100%;">
						<thead>
							<tr>
								<th>No.</th>
								<th>Member Code</th>
								<th>Member Name</th>
								<th>Serial Number</th>
								<th>Contact</th>
								<th>Total Savings</th>
								<th>Loan Balance</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let item of this.allgroupmembersArray, let i = index">
								<td>{{i + 1}}</td>
								<td>{{item.customerCode}}</td>
								<td>{{item.customerName}}</td>
								<td>{{item.serialNo}}</td>
								<td>{{item.contact}}</td>
								<td>{{item.totalSaving}}</td>
								<td>{{item.loanBalance}}</td>
							</tr>
						</tbody>
					</table>
					<br>
				</mat-tab>
				<mat-tab class="mat-tab" label="SIGNATORY PHOTOS">
					<br>
					<table class="table table-striped table-bordered table-sm row-border hover" style="width: 100%;">
						<thead>
							<tr>
								<th>No.</th>
								<th>Document Type</th>
								<th>View</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let item of this.memberPhotosArray, let i = index">
								<td>{{i + 1}}</td>
								<td>{{item.image_name}}</td>
								<td>
									<mat-icon color="primary" (click)="onViewDoument(i)">visibility</mat-icon>
								</td>
							</tr>
						</tbody>
					</table>
				</mat-tab>
			</mat-tab-group>
			<br>
			<hr>
			<div class="d-grid gap-2">
				<mat-dialog-actions align="center">
					<button class="btn btn-primary" type="button" mat-dialog-close>Close</button>
				</mat-dialog-actions>
			</div>
		</form>
	</div>
</mat-card>
